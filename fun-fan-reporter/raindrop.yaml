# Liquid Metal Raindrop Configuration
# Project: The Fun Fan Reporter
# Purpose: Edge Computing Node for Offline-First Crowd Intelligence

name: fun-fan-edge-node
region: us-central-1
provider: vultr-metal

# Machine Specifications (High Performance for AI Inference)
machine:
  plan: vbm-man1-1
  os: ubuntu-22.04
  script: |
    #!/bin/bash
    echo "Initializing Liquid Metal Raindrop..."
    apt-get update && apt-get install -y docker.io redis-server
    
    # 1. Start Local Redis (Mesh Sync)
    systemctl start redis-server
    
    # 2. Pull Edge AI Container
    docker run -d -p 8080:8080 --name edge-brain \
      -e MODE=OFFLINE_MESH \
      -e VULTR_API_KEY=$VULTR_API_KEY \
      ghcr.io/fun-fan-reporter/edge-logic:latest

# Networking - Mesh Configuration
network:
  vpc_id: vpc-liquid-mesh-01
  firewall_group:
    - port: 80
      type: tcp
      source: 0.0.0.0/0
    - port: 6379
      type: tcp
      source: 10.0.0.0/8 # Internal Mesh Sync Only

# Storage (Vultr Block Storage for Video Buffering)
storage:
  - size: 100GB
    label: video-buffer
    mount_point: /mnt/security-feed